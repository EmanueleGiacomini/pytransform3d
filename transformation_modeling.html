<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Modeling Transformations &#8212; pytransform3d 1.12.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Managing Transformations" href="transform_manager.html" />
    <link rel="prev" title="pytransform3d.rotations.extrinsic_euler_zxy_from_active_matrix" href="_apidoc/pytransform3d.rotations.extrinsic_euler_zxy_from_active_matrix.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.12.4.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.4.1/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          pytransform3d</a>
        <span class="navbar-text navbar-version pull-left"><b>1.12.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="index.html">Contents</a></li>
                <li><a href="_auto_examples/index.html">Examples</a></li>
                <li><a href="api.html">API</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="notation.html">Notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="rotations.html">SO(3): 3D Rotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="transformations.html">SE(3): 3D Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="transformation_ambiguities.html">Transformation Ambiguities and Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="euler_angles.html">Euler Angles</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Modeling Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="transform_manager.html">Managing Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="camera.html">Camera</a></li>
<li class="toctree-l1"><a class="reference internal" href="animations.html">Animations</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="_auto_examples/index.html">Examples</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Modeling Transformations</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="modeling-transformations">
<h1>Modeling Transformations<a class="headerlink" href="#modeling-transformations" title="Permalink to this headline">Â¶</a></h1>
<p>With many transformations it is not easy to keep track of the right sequence.
Here are some simple tricks that you can use to keep track of transformations
and make to always concatenate them in the correct way.</p>
<img alt="Three frames" class="align-center" src="_images/transformation_modeling.png" />
<p>When modeling transformations in mathematical equations we often sequence them
from right to left (extrinsic convention).
Here it makes most sense to give names like <img class="math" src="_images/math/3ef1094532d76ae556c42a346f6aaaf93cb89915.png" alt="\boldsymbol T_{BA}"/> for
transformations that maps points <strong>from frame</strong> <img class="math" src="_images/math/211284f68205c3e66773eaf026f32a0acdd3dfb3.png" alt="A"/> <strong>to frame</strong>
<img class="math" src="_images/math/4bc3e94a67870b41b7c20179693e889251e2c136.png" alt="B"/>, so we can easily recognize that</p>
<div class="math">
<p><img src="_images/math/cbcf6c8d7dea17e32913b0f8d38d6959c454b837.png" alt="\boldsymbol T_{CA} = \boldsymbol T_{CB} \boldsymbol T_{BA}"/></p>
</div><p>when we read the names of the frames from right to left.
Now we can use the transformation matrix <img class="math" src="_images/math/66a637473e69a75aa4a6867944d4501fab1762a3.png" alt="\boldsymbol T_{CA}"/> to transform
a point <img class="math" src="_images/math/29e9c2923fc1360492231a654bb1005efd62f3e6.png" alt="_A\boldsymbol{p}"/> from frame <img class="math" src="_images/math/211284f68205c3e66773eaf026f32a0acdd3dfb3.png" alt="A"/> to frame
<img class="math" src="_images/math/4db5b6e16e06f929ce3f675c5e535d06ffb02ff7.png" alt="C"/> by multiplication <img class="math" src="_images/math/8451cb28ad19901b61a45a212c196c3c4d353efe.png" alt="_C\boldsymbol{p} = \boldsymbol{T}_{CA}\,_A\boldsymbol{p}"/>.</p>
<p>In code this might look differently. Here we should prefer the notation <cite>A2B</cite>
for a transformation from frame <cite>A</cite> to frame <cite>B</cite>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytransform3d.transformations</span> <span class="kn">import</span> <span class="n">concat</span>
<span class="n">A2B</span> <span class="o">=</span> <span class="o">...</span>  <span class="c1"># transformation from frame A to frame B</span>
<span class="n">B2C</span> <span class="o">=</span> <span class="o">...</span>  <span class="c1"># transformation from frame B to frame C</span>
<span class="n">A2C</span> <span class="o">=</span> <span class="n">concat</span><span class="p">(</span><span class="n">A2B</span><span class="p">,</span> <span class="n">B2C</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we can verify that the new transformation matrix correctly transforms from
frame <cite>A</cite> to frame <cite>C</cite> if we read from left to right. The function <cite>concat</cite>
will correctly apply the transformation <cite>B2C</cite> after <cite>A2B</cite>. If we want to transform
a point from <cite>C</cite> to <cite>A</cite> we can now use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytransform3d.transformations</span> <span class="kn">import</span> <span class="n">vector_to_point</span><span class="p">,</span> <span class="n">transform</span>
<span class="n">p_in_A</span> <span class="o">=</span> <span class="n">vector_to_point</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>  <span class="c1"># point in frame A</span>
<span class="n">p_in_C</span> <span class="o">=</span> <span class="n">transform</span><span class="p">(</span><span class="n">A2C</span><span class="p">,</span> <span class="n">p_in_A</span><span class="p">)</span>
</pre></div>
</div>
<p>For more complex cases the <a class="reference internal" href="_apidoc/pytransform3d.transform_manager.TransformManager.html#pytransform3d.transform_manager.TransformManager" title="pytransform3d.transform_manager.TransformManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformManager</span></code></a>
can help.</p>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014-2022, Alexander Fabisch, DFKI GmbH, Robotics Innovation Center.<br/>
      Last updated on Feb 11, 2022.<br/>
    </p>
  </div>
</footer>
  </body>
</html>